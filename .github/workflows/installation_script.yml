name: Installation script
on: 
  pull_request:
  push:
    branches:
      - master

jobs:
  install_on_linux:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        shell: [bash, zsh, fish]
    steps:
      - uses: actions/checkout@v2
      - run: "sudo apt-get install -y ${{ matrix.shell }}"
        name: Install shell
      - run: "env SHELL=$(which ${{ matrix.shell }}) bash ./.ci/install.sh"
        name: Run the installation script
      - run: cat ~/.bashrc
        name: 'Print generated bashrc'
      - run: ~/.fnm/fnm --version
        name: 'Print fnm version'
